AUI.add("aui-base-lang",function(k){var N=k.Lang,q=k.Array,l=k.Object,u=N.isArray,M=N.isNumber,m=N.isUndefined,B=l.owns,J=k.namespace("Lang.String"),w="",z=k.config.doc,G="innerHTML",c=/-([a-z])/gi,e=/([.*+?^$(){}|[\]\/\\])/g,C=/\r?\n/g,x=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,H=/<\/?[^>]+>/gi,F=/([a-zA-Z][a-zA-Z])([A-Z])([a-z])/g,b=/([a-zA-Z][a-zA-Z])([A-Z])([a-z])/g,y="&",p="<",h="...",L="end",f="#",K="middle",E="start",n="0",v="g",o="s",g=["return value ",null,";"],d=[],t=k.cached(function(i){g[1]=i;return new Function("value",g.join(w));}),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#034;","'":"&#039;","/":"&#047;","`":"&#096;"},j={};for(var I in a){if(a.hasOwnProperty(I)){var D=a[I];j[D]=I;d.push(I);}}var s=new RegExp("["+d.join(w)+"]","g"),r=/&([^;]+);/g;k.mix(J,{camelize:k.cached(function(O,A){var i=c;O=String(O);if(A){i=new RegExp(A+"([a-z])","gi");}return O.replace(i,J._camelize);}),capitalize:k.cached(function(i){if(i){i=String(i);i=i.charAt(0).toUpperCase()+i.substr(1).toLowerCase();}return i;}),contains:function(A,i){return A.indexOf(i)!=-1;},defaultValue:function(A,i){if(m(A)||A==w){if(m(i)){i=w;}A=i;}return A;},endsWith:function(O,A){var i=(O.length-A.length);return((i>=0)&&(O.indexOf(A,i)==i));},escapeHTML:function(i){return i.replace(s,J._escapeHTML);},escapeRegEx:function(i){return i.replace(e,"\\$1");},math:function(A,i){return t(i)(A);},nl2br:function(A){var i=this;return String(A).replace(C,"<br />");},padNumber:function(O,P,i){var Q=i?Number(O).toFixed(i):String(O);var A=Q.indexOf(".");if(A==-1){A=Q.length;}return J.repeat(n,Math.max(0,P-A))+Q;},pluralize:function(A,i,P){var O;if(A==1){O=i;}else{O=P||i+o;}return A+" "+O;},prefix:function(i,A){A=String(A);if(A.indexOf(i)!==0){A=i+A;}return A;},remove:function(P,i,O){var A=new RegExp(J.escapeRegEx(i),O?v:w);return P.replace(A,w);},removeAll:function(A,i){return J.remove(A,i,true);},repeat:function(A,i){return new Array(i+1).join(A);},round:function(A,i){A=Number(A);if(M(i)){i=Math.pow(10,i);A=Math.round(A*i)/i;}return A;},startsWith:function(A,i){return(A.lastIndexOf(i,0)===0);},stripScripts:function(i){if(i){i=String(i).replace(x,w);}return i;},stripTags:function(A){var i=this;if(A){A=String(A).replace(H,w);}return A;},substr:function(A,O,i){return String(A).substr(O,i);},uncamelize:k.cached(function(A,i){i=i||" ";A=String(A);A=A.replace(F,"$1"+i+"$2$3");A=A.replace(b,"$1"+i+"$2");return A;}),toLowerCase:function(i){return String(i).toLowerCase();},toUpperCase:function(i){return String(i).toUpperCase();},trim:N.trim,truncate:function(Q,P,i){Q=String(Q);var O=Q.length;if(Q&&O>P){i=i||L;if(i==L){Q=Q.substr(0,P-h.length)+h;}else{if(i==K){var A=Math.floor(P/2);Q=Q.substr(0,A)+h+Q.substr(O-A);}else{if(i==E){Q=h+Q.substr(O-P);}}}}return Q;},undef:function(i){if(m(i)){i=w;}return i;},unescapeEntities:function(i){if(J.contains(i,y)){if(z&&!J.contains(i,p)){i=J._unescapeEntitiesUsingDom(i);}else{i=J.unescapeHTML(i);}}return i;},unescapeHTML:function(i){return i.replace(r,J._unescapeHTML);},_camelize:function(i,A){return A.toUpperCase();},_escapeHTML:function(i){return a[i];},_unescapeHTML:function(A){var O=j[A];if(!O&&entity.charAt(0)==f){var i=Number(n+entity.substr(1));if(!isNaN(i)){O=String.fromCharCode(i);}}return O;},_unescapeEntitiesUsingDom:function(A){var i=J._unescapeNode;i[G]=A;if(i[NORMALIZE]){i[NORMALIZE]();}A=i.firstChild.nodeValue;i[G]=w;return A;},_unescapeNode:z.createElement("a")});k.mix(q,{stableSort:function(Q,P){var O,A=Q.length;for(O=0;O<A;O++){Q[O]={index:O,value:Q[O]};}Q.sort(function(S,R){var i=P.call(Q,S.value,R.value);return(i===0)?(S.index-R.index):i;});for(O=0;O<A;O++){Q[O]=Q[O].value;}}});k.mix(N,{emptyFn:function(){},emptyFnFalse:function(){return false;},emptyFnTrue:function(){return true;},isGuid:function(A){var i=this;return String(A).indexOf(k.Env._guidp)===0;}});l.map=function(R,P,O){var Q=[];for(var A in R){if(B(R,A)){Q[Q.length]=P.call(O,R[A],A,R);}}return Q;};k.map=function(P,O,A){var i=l;if(u(P)){i=q;}return i.map.apply(this,arguments);};},"@VERSION@",{skinnable:false});